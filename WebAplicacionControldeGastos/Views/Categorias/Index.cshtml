@model IEnumerable<WebAplicacionControldeGastos.Models.Categorias>

@{
    ViewBag.Title = "Categorías";

    // Paleta de colores para las etiquetas (Azul, Turquesa, Morado, Naranja, Rojo, Verde)
    var colores = new string[] { "#3498db", "#1abc9c", "#9b59b6", "#e67e22", "#e74c3c", "#2ecc71" };
    int colorIndex = 0;
}

<style>
    /* Estilo para que la fila parezca una tarjeta flotante al pasar el mouse */
    .categoria-row {
        transition: all 0.2s ease-in-out;
        border-bottom: 1px solid #f8f9fa;
    }

        .categoria-row:hover {
            background-color: #ffffff;
            transform: translateX(8px); /* Pequeño deslizamiento a la derecha */
            box-shadow: -4px 4px 15px rgba(0,0,0,0.05);
            border-radius: 8px;
        }

    /* Contenedor del ícono de color */
    .icono-etiqueta {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        width: 38px;
        height: 38px;
        border-radius: 10px; /* Cuadritos con bordes suaves */
        margin-right: 15px;
    }
</style>

<div class="container" style="margin-top: 20px;">
    <div class="d-flex justify-content-between align-items-center border-bottom pb-3 mb-4">
        <div>
            <h2 class="mb-0" style="color: #1a1a1a; font-weight: 300;">Categorías</h2>
            <small class="text-muted">Administra las clasificaciones de tus gastos</small>
        </div>
        @Html.ActionLink("+ Nueva Categoría", "Create", null, new { @class = "btn btn-dark px-4 rounded-pill" })
    </div>

    <div class="card shadow-sm border-0 mb-5 rounded-4" style="background-color: #fdfdfd;">
        <div class="card-body p-3">
            <div class="table-responsive overflow-hidden">
                <table class="table table-borderless mb-0">
                    <thead class="border-bottom">
                        <tr>
                            <th class="px-4 py-3" style="font-weight: 500; color: #888; width: 70%; text-transform: uppercase; font-size: 0.85rem;">
                                Clasificación
                            </th>
                            <th class="px-4 py-3 text-end" style="font-weight: 500; color: #888; width: 30%; text-transform: uppercase; font-size: 0.85rem;">
                                Acciones
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        @if (!Model.Any())
                        {
                            <tr>
                                <td colspan="2" class="text-center py-5 text-muted">
                                    No tienes categorías. ¡Agrega una para empezar!
                                </td>
                            </tr>
                        }
                        else
                        {
                            foreach (var item in Model)
                            {
                                // Selecciona un color de la paleta y avanza al siguiente
                                var colorActual = colores[colorIndex % colores.Length];
                                colorIndex++;

                                <tr class="categoria-row align-middle">
                                    <td class="px-4 py-3">
                                        <div class="d-flex align-items-center">
                                            <div class="icono-etiqueta" style="background-color: @(colorActual)25; color: @colorActual;">
                                                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" class="bi bi-tag-fill" viewBox="0 0 16 16">
                                                    <path d="M2 2a1 1 0 0 1 1-1h4.586a1 1 0 0 1 .707.293l7 7a1 1 0 0 1 0 1.414l-4.586 4.586a1 1 0 0 1-1.414 0l-7-7A1 1 0 0 1 2 6.586V2zm3.5 4a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z" />
                                                </svg>
                                            </div>

                                            <span style="color: #333; font-weight: 600; font-size: 1.05rem;">
                                                @Html.DisplayFor(modelItem => item.Nombre)
                                            </span>
                                        </div>
                                    </td>
                                    <td class="px-4 py-3 text-end">
                                        @Html.ActionLink("Editar", "Edit", new { id = item.Id }, new { @class = "btn btn-sm btn-outline-secondary me-1 rounded-pill px-3" })
                                        @Html.ActionLink("Detalles", "Details", new { id = item.Id }, new { @class = "btn btn-sm btn-outline-secondary me-1 rounded-pill px-3" })
                                        @Html.ActionLink("Eliminar", "Delete", new { id = item.Id }, new { @class = "btn btn-sm btn-outline-danger rounded-pill px-3" })
                                    </td>
                                </tr>
                            }
                        }
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>